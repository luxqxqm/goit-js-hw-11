{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nconst API_KEY = \"54634417-32a9cc2e653c0a3a9a7b25778\"\n\nconst url = \"https://pixabay.com/api/\"\nexport function getImagesByQuery(query) {\n    const params = new URLSearchParams( {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true    \n            \n        }\n) \n    return axios(url,{params})\n        .then(res => {\n            return res.data.hits\n        })\n };\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst gallery = new SimpleLightbox(\".js-gallery a\", {\n    captions: true,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\"\n})\nconst container = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\n\nexport function createGallery(arr) {\n    const img = arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li class = \"img-item\">\n        <a href = \"${largeImageURL}\">\n        <img src = \"${webformatURL}\" alt = \"${tags}\" width = 300/>\n        </a>\n        <div class = \"wrapper\">\n        <h2><span class = \"text-weight\">Likes</span> ${likes}</h2>\n        <h2><span class = \"text-weight\">Views</span> ${views}</h2>\n        <h2><span class = \"text-weight\">Comments</span> ${comments}</h2>\n        <h2><span class = \"text-weight\">Downloads</span> ${downloads}</h2>\n        </div>\n        </li>\n        `).join(\"\")\n        \n        \n        container.insertAdjacentHTML('beforeend', img)\n    gallery.refresh()\n    \n    };\n\n\n\n\nexport function clearGallery() {\n    container.innerHTML = \"\"\n} \n\nexport function showLoader(){\nloader.classList.remove(\"blur\")\n}\nexport function hideLoader() {\n    loader.classList.add(\"blur\")\n }\n\n ","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport {createGallery, clearGallery, showLoader, hideLoader} from \"./js/render-functions\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\")\n\nhideLoader()\n\nform.addEventListener('submit', handleSubmit)\n\nfunction handleSubmit(event) {\n    event.preventDefault()\n    \n    const inputValue = event.target.elements[\"search-text\"].value;\n    \n    \n    if (inputValue.trim().length === 0) {\n        return\n    }\n    \n    \n    clearGallery()\n    \n    showLoader()\n    getImagesByQuery(inputValue)\n    .then(data => {\n        if (data.length === 0) {\n              iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please, try again!\",\n                position: \"topRight\",\n            });   \n        }\n        else {\n        event.target.reset()    \n        createGallery(data)\n        }\n    })\n        .catch(() => {\n         iziToast.error({\n                message: \"Something went wrong. Please try again later.\",\n                position: \"topRight\",\n            });   \n    })\n        .finally(() => {\n        hideLoader()\n        \n    })\n\n\n}\n\n\n    \n    \n"],"names":["API_KEY","url","getImagesByQuery","query","params","axios","res","gallery","SimpleLightbox","container","loader","createGallery","arr","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","inputValue","data","iziToast"],"mappings":"+vBACA,MAAMA,EAAU,qCAEVC,EAAM,2BACL,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,IAAI,gBAAiB,CAChC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEX,CACT,EACI,OAAOE,EAAMJ,EAAI,CAAC,OAAAG,CAAM,CAAC,EACpB,KAAKE,GACKA,EAAI,KAAK,IACnB,CACT,CChBA,MAAMC,EAAU,IAAIC,EAAe,gBAAiB,CAChD,SAAU,GACV,gBAAiB,SACjB,aAAc,KAClB,CAAC,EACKC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAGxC,SAASC,EAAcC,EAAK,CAC/B,MAAMC,EAAMD,EAAI,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,qBAE/EL,CAAa;AAAA,sBACZD,CAAY,YAAYE,CAAI;AAAA;AAAA;AAAA,uDAGKC,CAAK;AAAA,uDACLC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA;AAAA,SAG3D,EAAE,KAAK,EAAE,EAGVX,EAAU,mBAAmB,YAAaI,CAAG,EACjDN,EAAQ,QAAS,CAGrB,CAIO,SAASc,GAAe,CAC3BZ,EAAU,UAAY,EAC1B,CAEO,SAASa,GAAY,CAC5BZ,EAAO,UAAU,OAAO,MAAM,CAC9B,CACO,SAASa,GAAa,CACzBb,EAAO,UAAU,IAAI,MAAM,CAC/B,CCvCA,MAAMc,EAAO,SAAS,cAAc,OAAO,EAE3CD,EAAY,EAEZC,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAgB,EAEtB,MAAMC,EAAaD,EAAM,OAAO,SAAS,aAAa,EAAE,MAGpDC,EAAW,OAAO,SAAW,IAKjCN,EAAc,EAEdC,EAAY,EACZpB,EAAiByB,CAAU,EAC1B,KAAKC,GAAQ,CACNA,EAAK,SAAW,EACdC,EAAS,MAAM,CACb,QAAS,4EACT,SAAU,UAC1B,CAAa,GAGLH,EAAM,OAAO,MAAO,EACpBf,EAAciB,CAAI,EAE1B,CAAK,EACI,MAAM,IAAM,CACZC,EAAS,MAAM,CACR,QAAS,gDACT,SAAU,UAC1B,CAAa,CACb,CAAK,EACI,QAAQ,IAAM,CACfN,EAAY,CAEpB,CAAK,EAGL"}